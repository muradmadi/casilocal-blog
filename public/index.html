<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CasiLocal - Your guide to the best restaurants, bars, and events in Madrid for students">
  <title>CasiLocal - Madrid Student Guide</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div id="navbar-container"></div>

  <main>
    <section class="hero">
      <div class="container">
        <h1>Welcome to CasiLocal</h1>
        <p>Discover the best restaurants, bars, and events in Madrid for students</p>
        <a href="/blog/index.html" class="button button-primary">Explore Blog</a>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <h2 class="section-title">Featured Content</h2>
        <div class="blog-grid" id="featured-posts">
          <!-- Featured posts will be loaded here -->
          <p style="text-align: center; color: var(--text-light);">Loading featured posts...</p>
        </div>
      </div>
    </section>

    <section class="section" style="background-color: var(--bg-light);">
      <div class="container">
        <h2 class="section-title">About CasiLocal</h2>
        <div style="max-width: 800px; margin: 0 auto; text-align: center;">
          <p style="font-size: 1.125rem; margin-bottom: 1.5rem;">
            CasiLocal is your go-to resource for discovering the vibrant student life in Madrid. 
            We share insider tips on the best restaurants, trendy bars, exciting events, and hidden gems 
            that make Madrid an amazing city for students.
          </p>
          <a href="/about.html" class="button button-outline">Learn More</a>
        </div>
      </div>
    </section>
  </main>

  <div id="footer-container"></div>

  <script src="/js/components/navbar.js"></script>
  <script src="/js/components/footer.js"></script>
  <script src="/js/main.js"></script>
  <script>
    // Load featured posts on homepage
    document.addEventListener('DOMContentLoaded', function() {
      fetch('/blog/index.html')
        .then(response => response.text())
        .then(html => {
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, 'text/html');
          const blogCards = doc.querySelectorAll('.blog-card');
          const featuredContainer = document.getElementById('featured-posts');
          
          if (blogCards.length > 0) {
            featuredContainer.innerHTML = '';
            // Show first 3 posts as featured
            Array.from(blogCards).slice(0, 3).forEach(card => {
              featuredContainer.appendChild(card.cloneNode(true));
            });
          } else {
            featuredContainer.innerHTML = '<p style="text-align: center; color: var(--text-light);">No posts yet. Check back soon!</p>';
          }
        })
        .catch(error => {
          console.error('Error loading featured posts:', error);
          document.getElementById('featured-posts').innerHTML = '<p style="text-align: center; color: var(--text-light);">Unable to load featured posts.</p>';
        });
    });
  </script>
</body>
</html>

